<html lang="en">
<head>
  <title>Assisted-MapMatching</title>
  <meta charset="UTF-8">
</head>
<body>
    <h2>Assisted-MapMatching<br>Matching Tab</h2>
    <p>This plugin adjusts a GPS track on a street network (map-matching) semi-automatically.<br>Please read the <a href="https://github.com/LAEQ/q3m">plugin documentation</a> before using it.</p>
    <h3>Short description of the map-matching process</h3>
    <p>The map-matching process has 3 steps.</p>

    <h3>Step 1: Data preparation</h3>
    <p>This step prepares the data for the map-matching process. 
      It corrects the topology of the street network and verifies the validity of the input. <br>
      The required fields are: </p>

      <h4>The network layer</h4>
    <p>&emsp; Select the layer to use to adjust the GPS track.
      The list is composed of every active layers of type <strong>LineString</strong>.<br>
    The type <stron>MultilineString</stron> isn't supported. 
    You can convert a <strong>MultiLineString</strong> layer to a <strong>LineString</strong> using the tool "Multipart to SingleParts".</p>
	  
      <h4>The GPS track layer</h4>
    <p>&emsp; Select the point layerto match on the network.
       The list shows every active layers of type <strong>Point</strong>.</p>
    
      <h4>The point identifier field</h4>
    <p>&emsp; Select an unique indentifier for every points giving the order of the features.
      The list shows every attributes of type <strong>"Integer/Integer64/int/int8"</strong> present in the selected point layer.</p>
    
      <h4>Buffer range: </h4>
    <p>&emsp; Enter the range of the buffer that will be created around every points. 
      Every line intersecting this buffer will be considered for map-matching. 
      A bigger value implies a longer computing time</p>

    <h3>Step 2: MapMatching</h3>
    <p>This step matches the points of the GPS track on the street network. After the first iteration, the user can modify the selected lines and match the points again.<br> 
      Two fields can be specified:  </p>
    
      <h4>The speed field</h4>
    <p>&emsp; Select the attribute representing the speed of every points.
      The list shows every attribute of type <strong>"Integer/Integer64/int/int8"</strong> present in the selected point layer. 
      This field is only necessary to use the matching method "by speed". </p>
    
      <h4>The Matching algorithm list</h4>
    <p>&emsp; Select the type of matching to use. Three options are available.</p>
	 <ul>
	 	 <li>By speed: Taking into account the speed, the GPS track is cut into moving or stopped sections. 
        Every point of a stopped section are merged at their average location and snapped to their closest line on the network. 
        The moving sections are then adjusted between the sections of stopped points. 
        Check the documentation for more details.</li><br>
	 	 <li>By distance: This method adjusts the points along the path by calculating the ratio between the length of the original track (in between each point), and the selected path (selected lines). This ratio is then applied to the original points to project them along the selected lines to preserve the "natural" distance between two points</li><br>
	 	 <li>To closest: This method simply projects every point to its closest line on the selected path.</li>
	 </ul> 

   <h3># Step 3: Export</h3>
    <p>In this step, the results are exported in the selected format. You can also do it manually from QGIS<br> 
      Three options are available:</p>

    <h4>Export matched trace</h4>
    <p>&emsp; Select the matched track present in the adjacent dropDown list to export.</p>

    <h4>Export the polyline</h4>
    <p>&emsp; Check to export the polyline representing the selected path.</p>

    <h4>Export project</h4>
    <p>&emsp; Check to export every elements selected in the settings inside a single file.</p>

</body>